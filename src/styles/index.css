@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

/* ── Font faces (offline, no CDN) ── */

@font-face {
  font-family: "DM Sans";
  src: url("/fonts/DMSans-Medium.woff2") format("woff2");
  font-weight: 500;
  font-display: swap;
}
@font-face {
  font-family: "DM Sans";
  src: url("/fonts/DMSans-SemiBold.woff2") format("woff2");
  font-weight: 600;
  font-display: swap;
}
@font-face {
  font-family: "DM Sans";
  src: url("/fonts/DMSans-Bold.woff2") format("woff2");
  font-weight: 700;
  font-display: swap;
}
@font-face {
  font-family: "Source Sans 3";
  src: url("/fonts/SourceSans3-Regular.woff2") format("woff2");
  font-weight: 400;
  font-display: swap;
}
@font-face {
  font-family: "Source Sans 3";
  src: url("/fonts/SourceSans3-SemiBold.woff2") format("woff2");
  font-weight: 600;
  font-display: swap;
}

/* ── Theme tokens ── */

@theme {
  /* ── Primary: CPAM Blue ── */
  --color-primary-50:  #EEF2FF;
  --color-primary-100: #D8E0FF;
  --color-primary-200: #B0C1FF;
  --color-primary-300: #7A96F5;
  --color-primary-400: #4B6DE0;
  --color-primary-500: #0C419A;
  --color-primary-600: #0A3580;
  --color-primary-700: #082A66;
  --color-primary-800: #061F4D;
  --color-primary-900: #041433;

  /* ── Accent: Amber vif ── */
  --color-accent-50:  #FFF8E1;
  --color-accent-100: #FFECB3;
  --color-accent-200: #FFE082;
  --color-accent-300: #FFD54F;
  --color-accent-400: #FFCA28;
  --color-accent-500: #FFC107;
  --color-accent-600: #FFB300;
  --color-accent-700: #FF8F00;

  /* ── Surfaces ── */
  --color-surface-base:     #F5F7FA;
  --color-surface-card:     #FFFFFF;
  --color-surface-overlay:  rgba(12, 65, 154, 0.04);

  /* ── Neutral: Slate tintes ── */
  --color-gray-50:  #F8FAFC;
  --color-gray-100: #F1F5F9;
  --color-gray-200: #E2E8F0;
  --color-gray-300: #CBD5E1;
  --color-gray-400: #94A3B8;
  --color-gray-500: #64748B;
  --color-gray-600: #475569;
  --color-gray-700: #334155;
  --color-gray-800: #1E293B;
  --color-gray-900: #0F172A;

  /* ── Semantiques ── */
  --color-success-50:  #E8F5E9;
  --color-success-500: #2E7D32;
  --color-success-600: #1B5E20;

  --color-warning-50:  #FFF3E0;
  --color-warning-500: #E65100;
  --color-warning-600: #BF360C;

  --color-danger-50:  #FFEBEE;
  --color-danger-500: #C62828;
  --color-danger-600: #B71C1C;

  --color-info-500: #1565C0;
  --color-info-600: #0D47A1;

  /* ── Seuils (usage Excel + badges) ── */
  --color-threshold-green:  #2E7D32;
  --color-threshold-yellow: #E65100;
  --color-threshold-orange: #D84315;
  --color-threshold-red:    #C62828;

  /* ── Typography ── */
  --font-display: "DM Sans", system-ui, sans-serif;
  --font-body:    "Source Sans 3", "Segoe UI", system-ui, sans-serif;
  --font-mono:    "JetBrains Mono", "Fira Code", ui-monospace, monospace;

  /* Desktop-optimized sizes */
  --text-xs:   0.6875rem;  /* 11px */
  --text-sm:   0.8125rem;  /* 13px */
  --text-base: 0.875rem;   /* 14px */
  --text-lg:   1rem;        /* 16px */
  --text-xl:   1.25rem;     /* 20px */
  --text-2xl:  1.5rem;      /* 24px */
  --text-3xl:  2rem;        /* 32px */
  --text-4xl:  2.75rem;     /* 44px — KPI heros */

  /* ── Spacing ── */
  --spacing: 0.25rem;

  /* ── Border radius ── */
  --radius-sm:  0.25rem;   /* 4px */
  --radius-md:  0.5rem;    /* 8px */
  --radius-lg:  0.75rem;   /* 12px */
  --radius-xl:  1rem;      /* 16px — cards */
  --radius-2xl: 1rem;      /* 16px — alias */

  /* ── Shadows Material (5 niveaux) ── */
  --shadow-1: 0 1px 3px rgba(0,0,0,0.08), 0 1px 2px rgba(0,0,0,0.06);
  --shadow-2: 0 3px 6px rgba(0,0,0,0.10), 0 2px 4px rgba(0,0,0,0.06);
  --shadow-3: 0 10px 20px rgba(0,0,0,0.10), 0 3px 6px rgba(0,0,0,0.06);
  --shadow-4: 0 15px 30px rgba(0,0,0,0.12), 0 5px 15px rgba(0,0,0,0.08);
  --shadow-5: 0 20px 40px rgba(0,0,0,0.14), 0 8px 20px rgba(0,0,0,0.10);
}

@layer base {
  html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  body {
    background-color: var(--color-surface-base);
    color: var(--color-gray-800);
    font-family: var(--font-body);
    font-size: var(--text-base);
    line-height: 1.5;
  }

  /* Scrollbar custom (Tauri/Webkit) */
  ::-webkit-scrollbar { width: 6px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: rgba(148, 163, 184, 0.4); border-radius: 3px; }
  ::-webkit-scrollbar-thumb:hover { background: rgba(100, 116, 139, 0.6); }
}

@layer utilities {
  /* Animation d'entree des sections */
  @keyframes fadeSlideUp {
    from {
      opacity: 0;
      transform: translateY(12px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-slide-up {
    animation: fadeSlideUp 500ms cubic-bezier(0.4, 0, 0.2, 1) both;
  }

  /* Stagger delay utilities */
  .animation-delay-150 { animation-delay: 150ms; }
  .animation-delay-300 { animation-delay: 300ms; }
  .animation-delay-450 { animation-delay: 450ms; }
}
